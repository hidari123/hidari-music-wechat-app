{"version":3,"sources":["index.js","from-markdown.js","to-markdown.js"],"names":[],"mappings":";;;;;;;AAAA;AACA;AACA;ACFA;AACA;AACA;AACA,ACHA;ADIA,ACHA;ADIA,ACHA;ADIA,ACHA;ADIA,ACHA;ADIA,ACHA;ADIA,ACHA;ADIA,ACHA;ADIA,ACHA;ADIA,ACHA;ADIA,ACHA;ADIA,ACHA;ADIA,ACHA;ADIA,ACHA;ADIA,ACHA;ADIA,ACHA;ADIA,ACHA;ADIA,ACHA;ADIA,ACHA;ADIA,ACHA;ADIA,ACHA;ADIA,ACHA;ADIA,ACHA;ADIA,ACHA;ADIA,ACHA;ADIA,ACHA;ADIA,ACHA;ADIA,ACHA;ADIA,ACHA;ADIA,ACHA;ADIA,ACHA;ADIA,ACHA;ADIA,ACHA;ADIA,ACHA;ADIA,ACHA;ADIA,ACHA;ADIA,ACHA;ADIA,ACHA;ADIA,ACHA;ADIA,ACHA;ADIA,ACHA;ADIA,ACHA;ADIA,ACHA;ADIA,ACHA;ADIA,ACHA;ADIA,ACHA;ADIA,ACHA;ADIA,ACHA;ADIA,ACHA;ADIA,ACHA;ADIA,ACHA;ADIA,ACHA;ADIA,ACHA;ADIA,ACHA;ADIA,ACHA;ADIA,ACHA;ADIA,ACHA;ADIA,ACHA;ADIA,ACHA;ADIA,ACHA;ADIA,ACHA;ADIA,ACHA;ADIA,ACHA;ADIA,ACHA;ADIA,ACHA;ADIA,ACHA;ADIA,ACHA","file":"index.js","sourcesContent":["exports.fromMarkdown = require('./from-markdown')\nexports.toMarkdown = require('./to-markdown')\n","var normalizeIdentifier = require('micromark/dist/util/normalize-identifier')\n\nexports.canContainEols = ['footnote']\n\nexports.enter = {\n  footnoteDefinition: enterFootnoteDefinition,\n  footnoteDefinitionLabelString: enterFootnoteDefinitionLabelString,\n  footnoteCall: enterFootnoteCall,\n  footnoteCallString: enterFootnoteCallString,\n  inlineNote: enterNote\n}\nexports.exit = {\n  footnoteDefinition: exitFootnoteDefinition,\n  footnoteDefinitionLabelString: exitFootnoteDefinitionLabelString,\n  footnoteCall: exitFootnoteCall,\n  footnoteCallString: exitFootnoteCallString,\n  inlineNote: exitNote\n}\n\nfunction enterFootnoteDefinition(token) {\n  this.enter(\n    {type: 'footnoteDefinition', identifier: '', label: '', children: []},\n    token\n  )\n}\n\nfunction enterFootnoteDefinitionLabelString() {\n  this.buffer()\n}\n\nfunction exitFootnoteDefinitionLabelString(token) {\n  var label = this.resume()\n  this.stack[this.stack.length - 1].label = label\n  this.stack[this.stack.length - 1].identifier = normalizeIdentifier(\n    this.sliceSerialize(token)\n  ).toLowerCase()\n}\n\nfunction exitFootnoteDefinition(token) {\n  this.exit(token)\n}\n\nfunction enterFootnoteCall(token) {\n  this.enter({type: 'footnoteReference', identifier: '', label: ''}, token)\n}\n\nfunction enterFootnoteCallString() {\n  this.buffer()\n}\n\nfunction exitFootnoteCallString(token) {\n  var label = this.resume()\n  this.stack[this.stack.length - 1].label = label\n  this.stack[this.stack.length - 1].identifier = normalizeIdentifier(\n    this.sliceSerialize(token)\n  ).toLowerCase()\n}\n\nfunction exitFootnoteCall(token) {\n  this.exit(token)\n}\n\nfunction enterNote(token) {\n  this.enter({type: 'footnote', children: []}, token)\n}\n\nfunction exitNote(token) {\n  this.exit(token)\n}\n","exports.unsafe = [\n  // This is on by default already.\n  {character: '[', inConstruct: ['phrasing', 'label', 'reference']}\n]\nexports.handlers = {\n  footnote: footnote,\n  footnoteDefinition: footnoteDefinition,\n  footnoteReference: footnoteReference\n}\n\nvar association = require('mdast-util-to-markdown/lib/util/association')\nvar phrasing = require('mdast-util-to-markdown/lib/util/container-phrasing')\nvar flow = require('mdast-util-to-markdown/lib/util/container-flow')\nvar indentLines = require('mdast-util-to-markdown/lib/util/indent-lines')\nvar safe = require('mdast-util-to-markdown/lib/util/safe')\n\nfootnoteReference.peek = footnoteReferencePeek\nfootnote.peek = footnotePeek\n\nfunction footnoteReference(node, _, context) {\n  var exit = context.enter('footnoteReference')\n  var subexit = context.enter('reference')\n  var reference = safe(context, association(node), {before: '^', after: ']'})\n  subexit()\n  exit()\n  return '[^' + reference + ']'\n}\n\nfunction footnoteReferencePeek() {\n  return '['\n}\n\nfunction footnote(node, _, context) {\n  var exit = context.enter('footnote')\n  var subexit = context.enter('label')\n  var value = '^[' + phrasing(node, context, {before: '[', after: ']'}) + ']'\n  subexit()\n  exit()\n  return value\n}\n\nfunction footnotePeek() {\n  return '^'\n}\n\nfunction footnoteDefinition(node, _, context) {\n  var exit = context.enter('footnoteDefinition')\n  var subexit = context.enter('label')\n  var label =\n    '[^' + safe(context, association(node), {before: '^', after: ']'}) + ']:'\n  var value\n  subexit()\n\n  value = indentLines(flow(node, context), map)\n  exit()\n\n  return value\n\n  function map(line, index, blank) {\n    if (index) {\n      return (blank ? '' : '    ') + line\n    }\n\n    return (blank ? label : label + ' ') + line\n  }\n}\n"]}